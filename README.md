# Ремонтне агенство

## Условия

Існують ролі: менеджер, майстер, користувач.
Зареєстрований користувач може створювати заявку на ремонт. Також у користувача є рахунок, з якого здійснюється оплата за ремонт.
Менеджер має можливість управляти заявками користувача:
- призначити майстра;
- визначити вартість робіт;
- змінити статус заявки: "чекає на оплату", "сплачено", "відмінено".
Менеджер також має можливість поповнити рахунок користувача.
Майстер має можливість вибрати із списка заявку на ремонт та змінити її статус на "в роботі" або "виконано". Після того, як заявка була виконана, користувач має можливість лишити відгук щодо роботи майстра.
Менеджер повинен мати змогу подивитись звіт зі списком заявок, де він може провети сортування:
- по даті заявки;
- статусу заявки;
- по вартості.
Також менеджер повинен мати змогу фільтрувати замовлення:
- за статусом;
- за майстром, що виконує/виконував замовлення.

### 1.Используемые технологии/фреймворки

* Java 11;
* Servlet, JSP, JSTL;
* JDBC;
* PostgresSQL;
* Log4J;
* JUnit, Mockito;
* Java Mail;
* HTML, CSS (Bootstrap);
* Git, Maven, Tomcat 9.

### 2.Требования

* JDK 11;
* Maven 3.5;
* Git 2.9;
* Tomcat 9;
* PostgreSQL  с поддержкой utf-8.

### 3.При разработка использовалось

* InteliJ Idea 2020 Idea UE;
* PostfreSQL;
* Postman;
* Tomcat Server v.9.0.16.

### 4.Установка

Предполагается, что ПО, указанное в п.2 уже установлено, настроено и готово к работе;
Клонировать репозитарий git clone https://github.com/MadgelS/RepairAgency;
Запустить PostgreSQL сервер, создать там схему repair_agency;
Запустить Tomcat сервер;
Настроить параметры подключения flyway-maven-plugin для развертывания базы данных pom.xml: project/profiles/profile:prod/build/plugins/plugin:flyway-maven-plugin (пользователь с правами создания таблиц);
Развернуть базу данных, выполнив из каталога проекта команду mvn -Pprod flyway:clean flyway:migrate;
Настроить параметры подключения приложения к серверу PosthgreSQL src/main/config/prod/META-INF/context.xml (пользователь с параметрами просмотра, добавления, удаления, изменения);
Настроить параметры подключения maven к серверу Apache Tomcat pom.xml: project/profiles/profile:prod/build/plugins/plugin:tomcat7-maven-plugin;
Выполнить из каталога проекта развертывание приложения командой mvn -Pprod tomcat7:redeploy.

### 5.Запуск: перейти по полученной ссылке вида http://localhost:8080.
